</html>
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="https://unpkg.com/vue"></script>
  <script src="https://unpkg.com/vuex"></script>
</head>

<body>
  <div id="app">
    <h1>{{header}}</h1>
    <h2>{{welcome}}</h2>
    <h3>{{counter}}</h3>
    <button @click="increment">Press Me</button>
  </div>

  <script>
    const store = new Vuex.Store({ //хранит информацию о состоянии
      state: {
        msg: "hello world",
        count: 0
      },
      mutations: {
        increment(state, plass) { //мутация инеримирующая состояние
          state.count += plass;
          state.msg = state.msg + " " + state.count;
        }
      },
      getters: {
        msg(state) {
          return state.msg.toUpperCase();
        },
        count(state) {
          return state.count;
        }
      },
      actions: {
        increment(context, playss) {
          setTimeout(function () {
            context.commit('increment', playss);
          },4000);
        }
      }
    });

    new Vue({
      el: '#app',
      data() {
        return {
          header: 'Vuex App' //отражает сообщение
        }
      },
      computed: {
        welcome() {
          return store.getters.msg;//возвращаем геттер мсг
        },
        counter() {
          return store.getters.count;
        }
      },
      methods: {
        increment() {
          store.commit('increment', 10) //этот метод выполняет одноименную мутацию
        }
      }
    })

  </script>
</body>

</html>
